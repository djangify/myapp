{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Meta Description -->
    <meta name="description" content="{% block meta_description %}Digital Business Guides for creativepreneurs{% endblock %}">
    

    <meta name="keywords" content="{% block meta_keywords %}digital business guides, online business for beginners, creative entrepreneur resources, printable business planner,small business digital products, start selling digital products{% endblock %}">

    {% block open_graph_tags %}
    <meta property="fb:app_id" content="2433552923679047" />
    <meta property="og:title" content="Your Starter Pack for Building a Digital Business"
      property="og:description"
      content="Djangify helps creative entrepreneurs turn their ideas into reliable income by giving them the structure to start, build, and sell online with confidence."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ request.build_absolute_uri }}" />
    <meta property="og:image" content="{% static 'images/djangify-logo.png' %}" />
    {% endblock %}
    
    <link rel="stylesheet" href="{% static 'dist/output.css' %}" />
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
    <link rel="icon" type="image/ico" href="{% static 'images/favicon.ico' %}">
    <title>{% block title %}Digital Business Guides for creativepreneurs, solopreneurs and freelancers{% endblock %}</title>
    {% block extra_meta %}{% endblock %}
  </head>
  <body>
     {% if messages %}
      <section aria-label="Notifications" role="alert">
          {% include 'partials/_messages.html' %}
      </section>
    {% endif %}
   
    {% if request.user.is_authenticated %}
      {% include "accounts/includes/logged_in_public_header.html" %}
    {% else %}
      {% include "base/navbar.html" %}
    {% endif %}


    {% block content %}
    {% endblock %}

    {% include 'base/footer.html' %}

    
    <!-- Cookie Consent -->
   <aside id="cookie-banner" class="cookie-banner hidden" role="dialog" aria-labelledby="cookie-title">
    <div class="cookie-container">
      <div class="cookie-text">
        <h2 id="cookie-title" class="sr-only">Cookie Consent</h2>
        We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies. 
        <a href="{% url 'core:cookie_policy' %}" class="cookie-link">Cookie Policy</a>
      </div>
      <div class="cookie-actions">
        <button id="accept-cookies" class="cookie-btn accept">Accept</button>
        <button id="decline-cookies" class="cookie-btn decline">Decline</button>
      </div>
    </div>
  </aside>  
<!-- Scripts -->
{% block extra_js %}
<script src="{% static 'js/app.js' %}" defer></script>
<script src="{% static 'js/messages.js' %}"defer></script>
<script src="{% static 'js/category-filter.js' %}" defer></script>

 <!-- Cookie Consent Script (show once, then never again) -->
<!-- Cookie Consent Script (works first time, then gone) -->
<script>
(function () {
  function ready(fn) {
    if (document.readyState !== 'loading') { fn(); }
    else { document.addEventListener('DOMContentLoaded', fn); }
  }

  ready(function () {
    try {
      var banner = document.getElementById('cookie-banner');
      if (!banner) return;

      var accept = document.getElementById('accept-cookies');
      var decline = document.getElementById('decline-cookies');

      // If already decided, remove banner entirely and bail
      var decision = null;
      try { decision = localStorage.getItem('cookieConsent'); } catch (e) {}
      if (decision === 'accepted' || decision === 'declined') {
        if (banner.parentNode) banner.parentNode.removeChild(banner);
        return;
      }

      // Show the banner (ignore classes; force visible)
      banner.style.display = 'block';
      banner.setAttribute('aria-hidden', 'false');

      function hideAndRemember(value) {
        try { localStorage.setItem('cookieConsent', value); } catch (e) {}
        // Remove from DOM so it *cannot* linger due to CSS
        if (banner && banner.parentNode) {
          banner.parentNode.removeChild(banner);
        }
      }

      if (accept) accept.addEventListener('click', function (e) {
        e.preventDefault();
        hideAndRemember('accepted');
      });

      if (decline) decline.addEventListener('click', function (e) {
        e.preventDefault();
        hideAndRemember('declined');
      });
    } catch (err) {
      // Fail-closed: if something unexpected happens, don't block the page
      console.error('Cookie banner error:', err);
    }
  });
})();
</script>




{% endblock %}

  </body>
</html>